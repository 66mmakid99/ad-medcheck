name = "medcheck-engine"
main = "dist/index.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]
no_bundle = true
account_id = "cef061ba7db7004eee5cb8a22074efb8"

[[d1_databases]]
binding = "DB"
database_name = "medcheck-db"
database_id = "402b74a6-363d-499a-807a-9cadda9f851c"

[vars]
ENVIRONMENT = "production"
ENGINE_VERSION = "2.0.0"
PATTERN_VERSION = "1.0.0"
LOG_LEVEL = "info"

# ============================================
# [신규] Cron Trigger 설정
# 로컬 PC 없이 자동 크롤링!
# ============================================
# 
# KST 09:00 = UTC 00:00
# KST 18:00 = UTC 09:00
# KST 23:00 = UTC 14:00 (수동트리거 처리용)
#
[triggers]
crons = ["0 0 * * *", "0 9 * * *"]

# ============================================
# Secret 설정 (이 파일에 직접 넣지 마세요!)
# 아래 명령어로 설정:
#   wrangler secret put GEMINI_API_KEY
#   wrangler secret put CLAUDE_API_KEY  (선택)
# ============================================
